<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>MP4v2 trunk-r352 PROJECT_name: MP4v2 File I/O</title>
    <link href="project.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="sitebanner">
    <div id="home">
        <a href="http://code.google.com/p/mp4v2"></a>
    </div>
    <div id="title">
        PROJECT_name: MP4v2 File I/O
    </div>
    <div id="menu">
        <ul>
            <li><a href="http://code.google.com/p/mp4v2">MP4v2 Home</a></li>
            <li><a href="../index.html">Documentation</a></li>
            <li class="active">API Reference</li>
        </ul>
    </div>
</div>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MP4v2 File I/O</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="struct_m_p4_file_provider__s.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gb3827940d6e4e310440c30f0f9092a7a">MP4_DETAILS_ALL</a>&nbsp;&nbsp;&nbsp;0xFFFFFFFF</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bitmask: all possible details.  <a href="#gb3827940d6e4e310440c30f0f9092a7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga4985d912f22993dc83724d9301802ad">MP4_DETAILS_ERROR</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: reasons for errors.  <a href="#ga4985d912f22993dc83724d9301802ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gacafba119545c6dd4e9df269a31ab7cb">MP4_DETAILS_WARNING</a>&nbsp;&nbsp;&nbsp;0x00000002</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: warnings.  <a href="#gacafba119545c6dd4e9df269a31ab7cb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g0b442a8273aba699d30f3dbb713c5e0a">MP4_DETAILS_READ</a>&nbsp;&nbsp;&nbsp;0x00000004</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: read operations.  <a href="#g0b442a8273aba699d30f3dbb713c5e0a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g76bd472f216cdc867aed1aa5e1cdd89d">MP4_DETAILS_WRITE</a>&nbsp;&nbsp;&nbsp;0x00000008</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: write operations.  <a href="#g76bd472f216cdc867aed1aa5e1cdd89d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ge02fca9b84695b9c29f6d09b6b153b0b">MP4_DETAILS_FIND</a>&nbsp;&nbsp;&nbsp;0x00000010</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: find property operations.  <a href="#ge02fca9b84695b9c29f6d09b6b153b0b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g54e6662d9e71942d9e024d2f500f3f6c">MP4_DETAILS_TABLE</a>&nbsp;&nbsp;&nbsp;0x00000020</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: per table entry details.  <a href="#g54e6662d9e71942d9e024d2f500f3f6c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaeaa4398b8e7a60d243eb84a56ab49be">MP4_DETAILS_SAMPLE</a>&nbsp;&nbsp;&nbsp;0x00000040</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: per sample details.  <a href="#gaeaa4398b8e7a60d243eb84a56ab49be"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gb4200d967e9351aa183a88239558a582">MP4_DETAILS_HINT</a>&nbsp;&nbsp;&nbsp;0x00000080</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: per RTP hint details.  <a href="#gb4200d967e9351aa183a88239558a582"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga43d8395e2ddf9eb8933f639bedec33a">MP4_DETAILS_ISMA</a>&nbsp;&nbsp;&nbsp;0x00000100</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: ISMA details.  <a href="#ga43d8395e2ddf9eb8933f639bedec33a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gb703aaca3eb39a758e2f12a2a410ef17">MP4_DETAILS_EDIT</a>&nbsp;&nbsp;&nbsp;0x00000200</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verbosity bit: edit details.  <a href="#gb703aaca3eb39a758e2f12a2a410ef17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g548b75af24607211fc865f13989feb5a">MP4_CREATE_64BIT_DATA</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit: enable 64-bit data-atoms.  <a href="#g548b75af24607211fc865f13989feb5a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gc5d3ff6b04ffa9a2f7ffe36196fb96f7">MP4_CREATE_64BIT_TIME</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit: enable 64-bit time-atoms.  <a href="#gc5d3ff6b04ffa9a2f7ffe36196fb96f7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="group__mp4__file.html#gd409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gfdb6cfe7fa59c5317846ffc56f42e81c">MP4FileMode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of file modes for custom file provider.  <a href="#gfdb6cfe7fa59c5317846ffc56f42e81c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gcf64d5ba5ba7198435d83a103487f7df">MP4FileProvider</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="#gcf64d5ba5ba7198435d83a103487f7df"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gd409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__mp4__file.html#ggd409ae4e64c51d2e831968b5adcb371136fc6f169700cbc8a04264f2237edc41">FILEMODE_UNDEFINED</a>, 
<a class="el" href="group__mp4__file.html#ggd409ae4e64c51d2e831968b5adcb371192dc5629e6fc20c2b7f3436495a0ad5b">FILEMODE_READ</a>, 
<a class="el" href="group__mp4__file.html#ggd409ae4e64c51d2e831968b5adcb37117b48e7deef54a298274319e8dae11405">FILEMODE_MODIFY</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__mp4__file.html#ggd409ae4e64c51d2e831968b5adcb3711ac9ceaf0626526fabf37ef5aecca9bbc">FILEMODE_CREATE</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of file modes for custom file provider.  <a href="group__mp4__file.html#gd409ae4e64c51d2e831968b5adcb3711">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gf34fdbadcea9621d01468820144deb50">MP4GetVerbosity</a> (MP4FileHandle hFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get verbosity level for diagnostic information.  <a href="#gf34fdbadcea9621d01468820144deb50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40">MP4SetVerbosity</a> (MP4FileHandle hFile, uint32_t verbosity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set verbosity level for diagnostic information.  <a href="#g0f5a31d71dfda457588f6d7701153b40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g5123d9288961860eeb9100ac10927ff2">MP4Close</a> (MP4FileHandle hFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close an mp4 file.  <a href="#g5123d9288961860eeb9100ac10927ff2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g2f80c3d5b23046c24caace6f574aedec">MP4Create</a> (const char *fileName, uint32_t verbosity=0, uint32_t flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mp4 file.  <a href="#g2f80c3d5b23046c24caace6f574aedec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ge6054b77bd7bf722eb1b147c02a0f2ad">MP4CreateEx</a> (const char *fileName, uint32_t verbosity=0, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mp4 file with extended options.  <a href="#ge6054b77bd7bf722eb1b147c02a0f2ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g79137293b4c80a8c39368098f4e2a732">MP4Dump</a> (MP4FileHandle hFile, FILE *pDumpFile=NULL, bool dumpImplicits=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump mp4 file contents as ASCII.  <a href="#g79137293b4c80a8c39368098f4e2a732"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g5a77cfc76a54fbd45d4cecec0f7ff373">MP4FileInfo</a> (const char *fileName, MP4TrackId trackId=MP4_INVALID_TRACK_ID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="#g5a77cfc76a54fbd45d4cecec0f7ff373"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g3aba729fc3d51e7cfbd50c077f95add3">MP4Info</a> (MP4FileHandle hFile, MP4TrackId trackId=MP4_INVALID_TRACK_ID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="#g3aba729fc3d51e7cfbd50c077f95add3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gfedbb759caed3c0ef88980e51111c250">MP4Modify</a> (const char *fileName, uint32_t verbosity=0, uint32_t flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modify an existing mp4 file.  <a href="#gfedbb759caed3c0ef88980e51111c250"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gb86083f9d6ddb8e0c9ae7d5f4401d73f">MP4Optimize</a> (const char *fileName, const char *newFileName=NULL, uint32_t verbosity=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optimize the layout of an mp4 file.  <a href="#gb86083f9d6ddb8e0c9ae7d5f4401d73f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#g0dd0722e4dc234ea01bf55cc9cee15c5">MP4Read</a> (const char *fileName, uint32_t verbosity=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an existing mp4 file.  <a href="#g0dd0722e4dc234ea01bf55cc9cee15c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga14314f7f04899ddf0b2dc05a0ab5177">MP4ReadProvider</a> (const char *fileName, uint32_t verbosity=0, const <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a> *fileProvider=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an existing mp4 file.  <a href="#ga14314f7f04899ddf0b2dc05a0ab5177"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g548b75af24607211fc865f13989feb5a"></a><!-- doxytag: member="file.h::MP4_CREATE_64BIT_DATA" ref="g548b75af24607211fc865f13989feb5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CREATE_64BIT_DATA&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Bit: enable 64-bit data-atoms. 
<p>

</div>
</div><p>
<a class="anchor" name="gc5d3ff6b04ffa9a2f7ffe36196fb96f7"></a><!-- doxytag: member="file.h::MP4_CREATE_64BIT_TIME" ref="gc5d3ff6b04ffa9a2f7ffe36196fb96f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CREATE_64BIT_TIME&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Bit: enable 64-bit time-atoms. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Incompatible with QuickTime. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gb3827940d6e4e310440c30f0f9092a7a"></a><!-- doxytag: member="file.h::MP4_DETAILS_ALL" ref="gb3827940d6e4e310440c30f0f9092a7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_ALL&nbsp;&nbsp;&nbsp;0xFFFFFFFF          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bitmask: all possible details. 
<p>

</div>
</div><p>
<a class="anchor" name="gb703aaca3eb39a758e2f12a2a410ef17"></a><!-- doxytag: member="file.h::MP4_DETAILS_EDIT" ref="gb703aaca3eb39a758e2f12a2a410ef17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_EDIT&nbsp;&nbsp;&nbsp;0x00000200          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: edit details. 
<p>

</div>
</div><p>
<a class="anchor" name="ga4985d912f22993dc83724d9301802ad"></a><!-- doxytag: member="file.h::MP4_DETAILS_ERROR" ref="ga4985d912f22993dc83724d9301802ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_ERROR&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: reasons for errors. 
<p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2itmf_2generic_8c-example.html#a1">example/itmf/generic.c</a>, and <a class="el" href="example_2itmf_2tags_8c-example.html#a1">example/itmf/tags.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="ge02fca9b84695b9c29f6d09b6b153b0b"></a><!-- doxytag: member="file.h::MP4_DETAILS_FIND" ref="ge02fca9b84695b9c29f6d09b6b153b0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_FIND&nbsp;&nbsp;&nbsp;0x00000010          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: find property operations. 
<p>

</div>
</div><p>
<a class="anchor" name="gb4200d967e9351aa183a88239558a582"></a><!-- doxytag: member="file.h::MP4_DETAILS_HINT" ref="gb4200d967e9351aa183a88239558a582" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_HINT&nbsp;&nbsp;&nbsp;0x00000080          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: per RTP hint details. 
<p>

</div>
</div><p>
<a class="anchor" name="ga43d8395e2ddf9eb8933f639bedec33a"></a><!-- doxytag: member="file.h::MP4_DETAILS_ISMA" ref="ga43d8395e2ddf9eb8933f639bedec33a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_ISMA&nbsp;&nbsp;&nbsp;0x00000100          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: ISMA details. 
<p>

</div>
</div><p>
<a class="anchor" name="g0b442a8273aba699d30f3dbb713c5e0a"></a><!-- doxytag: member="file.h::MP4_DETAILS_READ" ref="g0b442a8273aba699d30f3dbb713c5e0a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_READ&nbsp;&nbsp;&nbsp;0x00000004          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: read operations. 
<p>

</div>
</div><p>
<a class="anchor" name="gaeaa4398b8e7a60d243eb84a56ab49be"></a><!-- doxytag: member="file.h::MP4_DETAILS_SAMPLE" ref="gaeaa4398b8e7a60d243eb84a56ab49be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_SAMPLE&nbsp;&nbsp;&nbsp;0x00000040          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: per sample details. 
<p>

</div>
</div><p>
<a class="anchor" name="g54e6662d9e71942d9e024d2f500f3f6c"></a><!-- doxytag: member="file.h::MP4_DETAILS_TABLE" ref="g54e6662d9e71942d9e024d2f500f3f6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_TABLE&nbsp;&nbsp;&nbsp;0x00000020          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: per table entry details. 
<p>

</div>
</div><p>
<a class="anchor" name="gacafba119545c6dd4e9df269a31ab7cb"></a><!-- doxytag: member="file.h::MP4_DETAILS_WARNING" ref="gacafba119545c6dd4e9df269a31ab7cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_WARNING&nbsp;&nbsp;&nbsp;0x00000002          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: warnings. 
<p>

</div>
</div><p>
<a class="anchor" name="g76bd472f216cdc867aed1aa5e1cdd89d"></a><!-- doxytag: member="file.h::MP4_DETAILS_WRITE" ref="g76bd472f216cdc867aed1aa5e1cdd89d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_DETAILS_WRITE&nbsp;&nbsp;&nbsp;0x00000008          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verbosity bit: write operations. 
<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gfdb6cfe7fa59c5317846ffc56f42e81c"></a><!-- doxytag: member="file.h::MP4FileMode" ref="gfdb6cfe7fa59c5317846ffc56f42e81c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__mp4__file.html#gd409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>  <a class="el" href="group__mp4__file.html#gfdb6cfe7fa59c5317846ffc56f42e81c">MP4FileMode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumeration of file modes for custom file provider. 
<p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2provider_2provider_8c-example.html#a0">example/provider/provider.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="gcf64d5ba5ba7198435d83a103487f7df"></a><!-- doxytag: member="file.h::MP4FileProvider" ref="gcf64d5ba5ba7198435d83a103487f7df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a>  <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Structure of functions implementing custom file provider. 
<p>
Except for <b>open</b>, al the functions must return a true value to indicate failure or false on success. The open function must return a pointer or handle which represents the open file, otherwise NULL.<p>
maxChunkSize is a hint suggesting what the max size of data should be read as in underlying read/write operations. A value of 0 indicates there is no hint. 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="gd409ae4e64c51d2e831968b5adcb3711"></a><!-- doxytag: member="file.h::MP4FileMode_e" ref="gd409ae4e64c51d2e831968b5adcb3711" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__mp4__file.html#gd409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumeration of file modes for custom file provider. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggd409ae4e64c51d2e831968b5adcb371136fc6f169700cbc8a04264f2237edc41"></a><!-- doxytag: member="FILEMODE_UNDEFINED" ref="ggd409ae4e64c51d2e831968b5adcb371136fc6f169700cbc8a04264f2237edc41" args="" -->FILEMODE_UNDEFINED</em>&nbsp;</td><td>
undefined </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggd409ae4e64c51d2e831968b5adcb371192dc5629e6fc20c2b7f3436495a0ad5b"></a><!-- doxytag: member="FILEMODE_READ" ref="ggd409ae4e64c51d2e831968b5adcb371192dc5629e6fc20c2b7f3436495a0ad5b" args="" -->FILEMODE_READ</em>&nbsp;</td><td>
file may be read </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggd409ae4e64c51d2e831968b5adcb37117b48e7deef54a298274319e8dae11405"></a><!-- doxytag: member="FILEMODE_MODIFY" ref="ggd409ae4e64c51d2e831968b5adcb37117b48e7deef54a298274319e8dae11405" args="" -->FILEMODE_MODIFY</em>&nbsp;</td><td>
file may be read/written </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggd409ae4e64c51d2e831968b5adcb3711ac9ceaf0626526fabf37ef5aecca9bbc"></a><!-- doxytag: member="FILEMODE_CREATE" ref="ggd409ae4e64c51d2e831968b5adcb3711ac9ceaf0626526fabf37ef5aecca9bbc" args="" -->FILEMODE_CREATE</em>&nbsp;</td><td>
file will be created/truncated for read/write </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g5123d9288961860eeb9100ac10927ff2"></a><!-- doxytag: member="file.h::MP4Close" ref="g5123d9288961860eeb9100ac10927ff2" args="(MP4FileHandle hFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MP4Close           </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close an mp4 file. 
<p>
MP4Close closes a previously opened mp4 file. If the file was opened writable with <a class="el" href="group__mp4__file.html#g2f80c3d5b23046c24caace6f574aedec" title="Create a new mp4 file.">MP4Create()</a> or <a class="el" href="group__mp4__file.html#gfedbb759caed3c0ef88980e51111c250" title="Modify an existing mp4 file.">MP4Modify()</a>, then <a class="el" href="group__mp4__file.html#g5123d9288961860eeb9100ac10927ff2" title="Close an mp4 file.">MP4Close()</a> will write out all pending information to disk.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to close. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2itmf_2generic_8c-example.html#a23">example/itmf/generic.c</a>, <a class="el" href="example_2itmf_2tags_8c-example.html#a60">example/itmf/tags.c</a>, and <a class="el" href="example_2provider_2provider_8c-example.html#a14">example/provider/provider.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="g2f80c3d5b23046c24caace6f574aedec"></a><!-- doxytag: member="file.h::MP4Create" ref="g2f80c3d5b23046c24caace6f574aedec" args="(const char *fileName, uint32_t verbosity=0, uint32_t flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Create           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new mp4 file. 
<p>
MP4Create is the first call that should be used when you want to create a new, empty mp4 file. It is equivalent to opening a file for writing, but also involved with creation of necessary mp4 framework structures. ie. invoking <a class="el" href="group__mp4__file.html#g2f80c3d5b23046c24caace6f574aedec" title="Create a new mp4 file.">MP4Create()</a> followed by <a class="el" href="group__mp4__file.html#g5123d9288961860eeb9100ac10927ff2" title="Close an mp4 file.">MP4Close()</a> will result in a file with a non-zero size.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#g548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gc5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a></li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gfa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge6054b77bd7bf722eb1b147c02a0f2ad"></a><!-- doxytag: member="file.h::MP4CreateEx" ref="ge6054b77bd7bf722eb1b147c02a0f2ad" args="(const char *fileName, uint32_t verbosity=0, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4CreateEx           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>add_ftyp</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>add_iods</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>majorBrand</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>minorVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>compatibleBrands</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>compatibleBrandsCount</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new mp4 file with extended options. 
<p>
MP4CreateEx is an extended version of <a class="el" href="group__mp4__file.html#g2f80c3d5b23046c24caace6f574aedec" title="Create a new mp4 file.">MP4Create()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#g548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gc5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a> </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_ftyp</em>&nbsp;</td><td>if true an <b>ftyp</b> atom is automatically created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_iods</em>&nbsp;</td><td>if true an <b>iods</b> atom is automatically created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>majorBrand</em>&nbsp;</td><td><b>ftyp</b> brand identifier. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minorVersion</em>&nbsp;</td><td><b>ftyp</b> informative integer for the minor version of the major brand. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>compatibleBrands</em>&nbsp;</td><td><b>ftyp</b> list of compatible brands. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>compatibleBrandsCount</em>&nbsp;</td><td>is the count of items specified in compatibleBrands.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gfa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g79137293b4c80a8c39368098f4e2a732"></a><!-- doxytag: member="file.h::MP4Dump" ref="g79137293b4c80a8c39368098f4e2a732" args="(MP4FileHandle hFile, FILE *pDumpFile=NULL, bool dumpImplicits=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Dump           </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>pDumpFile</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>dumpImplicits</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dump mp4 file contents as ASCII. 
<p>
Dump is an invaluable debugging tool in that in can reveal all the details of the mp4 control structures. However, the output will not make much sense until you familiarize yourself with the mp4 specification (or the Quicktime File Format specification).<p>
Note that <a class="el" href="group__mp4__file.html#g79137293b4c80a8c39368098f4e2a732" title="Dump mp4 file contents as ASCII.">MP4Dump()</a> will not print the individual values of control tables, such as the size of each sample, unless the current verbosity value includes the flag <a class="el" href="group__mp4__file.html#g54e6662d9e71942d9e024d2f500f3f6c" title="Verbosity bit: per table entry details.">MP4_DETAILS_TABLE</a>. See <a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for how to set this flag.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to dump. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pDumpFile</em>&nbsp;</td><td>dump destination. If NULL stdout will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dumpImplicits</em>&nbsp;</td><td>prints properties which would not actually be written to the mp4 file, but still exist in mp4 control structures. ie. they are implicit given the current values of other controlling properties.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><b>true</b> on success, <b>false</b> on failure.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2provider_2provider_8c-example.html#a13">example/provider/provider.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="g5a77cfc76a54fbd45d4cecec0f7ff373"></a><!-- doxytag: member="file.h::MP4FileInfo" ref="g5a77cfc76a54fbd45d4cecec0f7ff373" args="(const char *fileName, MP4TrackId trackId=MP4_INVALID_TRACK_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4FileInfo           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&nbsp;</td>
          <td class="paramname"> <em>trackId</em> = <code>MP4_INVALID_TRACK_ID</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a textual summary of an mp4 file. 
<p>
MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.<p>
Note that the returned string is malloc'ed, so it is the caller's responsibility to free() the string. Also note that the returned string contains newlines and tabs which may or may not be desirable.<p>
The following is an example of the output of <a class="el" href="group__mp4__file.html#g3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: <div class="fragment"><pre class="fragment">
Track  Type   Info
1      video  MPEG−4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG−4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V−ES for track 1
4      hint   Payload mpeg4−generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname to mp4 file to summarize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trackId</em>&nbsp;</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#g20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a malloc'd string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf34fdbadcea9621d01468820144deb50"></a><!-- doxytag: member="file.h::MP4GetVerbosity" ref="gf34fdbadcea9621d01468820144deb50" args="(MP4FileHandle hFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MP4GetVerbosity           </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get verbosity level for diagnostic information. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file for operation.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>bitmask of flags of diagnostic information.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for further details. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3aba729fc3d51e7cfbd50c077f95add3"></a><!-- doxytag: member="file.h::MP4Info" ref="g3aba729fc3d51e7cfbd50c077f95add3" args="(MP4FileHandle hFile, MP4TrackId trackId=MP4_INVALID_TRACK_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4Info           </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&nbsp;</td>
          <td class="paramname"> <em>trackId</em> = <code>MP4_INVALID_TRACK_ID</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a textual summary of an mp4 file. 
<p>
MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.<p>
Note that the returned string is malloc'ed, so it is the caller's responsibility to free() the string. Also note that the returned string contains newlines and tabs which may or may not be desirable.<p>
The following is an example of the output of <a class="el" href="group__mp4__file.html#g3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: <div class="fragment"><pre class="fragment">
Track  Type   Info
1      video  MPEG−4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG−4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V−ES for track 1
4      hint   Payload mpeg4−generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to summarize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trackId</em>&nbsp;</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#g20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a malloc'd string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g5a77cfc76a54fbd45d4cecec0f7ff373" title="Return a textual summary of an mp4 file.">MP4FileInfo()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gfedbb759caed3c0ef88980e51111c250"></a><!-- doxytag: member="file.h::MP4Modify" ref="gfedbb759caed3c0ef88980e51111c250" args="(const char *fileName, uint32_t verbosity=0, uint32_t flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Modify           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Modify an existing mp4 file. 
<p>
MP4Modify is the first call that should be used when you want to modify an existing mp4 file. It is roughly equivalent to opening a file in read/write mode.<p>
Since modifications to an existing mp4 file can result in a sub−optimal file layout, you may want to use <a class="el" href="group__mp4__file.html#gb86083f9d6ddb8e0c9ae7d5f4401d73f" title="Optimize the layout of an mp4 file.">MP4Optimize()</a> after you have modified and closed the mp4 file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>currently ignored.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a handle of the target file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gfa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2itmf_2generic_8c-example.html#a0">example/itmf/generic.c</a>, and <a class="el" href="example_2itmf_2tags_8c-example.html#a0">example/itmf/tags.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="gb86083f9d6ddb8e0c9ae7d5f4401d73f"></a><!-- doxytag: member="file.h::MP4Optimize" ref="gb86083f9d6ddb8e0c9ae7d5f4401d73f" args="(const char *fileName, const char *newFileName=NULL, uint32_t verbosity=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Optimize           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>newFileName</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Optimize the layout of an mp4 file. 
<p>
MP4Optimize reads an existing mp4 file and writes a new version of the file with the two important changes:<p>
First, the mp4 control information is moved to the beginning of the file. (Frequenty it is at the end of the file due to it being constantly modified as track samples are added to an mp4 file). This optimization is useful in that in allows the mp4 file to be HTTP streamed.<p>
Second, the track samples are interleaved so that the samples for a particular instant in time are colocated within the file. This eliminates disk seeks during playback of the file which results in better performance.<p>
There are also two important side effects of <a class="el" href="group__mp4__file.html#gb86083f9d6ddb8e0c9ae7d5f4401d73f" title="Optimize the layout of an mp4 file.">MP4Optimize()</a>:<p>
First, any free blocks within the mp4 file are eliminated.<p>
Second, as a side effect of the sample interleaving process any media data chunks that are not actually referenced by the mp4 control structures are deleted. This is useful if you have called MP4DeleteTrack() which only deletes the control information for a track, and not the actual media data.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of (existing) file to be optimized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newFileName</em>&nbsp;</td><td>pathname of the new optimized file. If NULL a temporary file will be used and <b>fileName</b> will be over-written upon successful completion. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><b>true</b> on success, <b>false</b> on failure.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0dd0722e4dc234ea01bf55cc9cee15c5"></a><!-- doxytag: member="file.h::MP4Read" ref="g0dd0722e4dc234ea01bf55cc9cee15c5" args="(const char *fileName, uint32_t verbosity=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Read           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read an existing mp4 file. 
<p>
MP4Read is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#g8d62988a2bc1563546b4b420d782377b" title="Read a track sample.">MP4ReadSample()</a> is called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gfa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga14314f7f04899ddf0b2dc05a0ab5177"></a><!-- doxytag: member="file.h::MP4ReadProvider" ref="ga14314f7f04899ddf0b2dc05a0ab5177" args="(const char *fileName, uint32_t verbosity=0, const MP4FileProvider *fileProvider=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4ReadProvider           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a> *&nbsp;</td>
          <td class="paramname"> <em>fileProvider</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read an existing mp4 file. 
<p>
MP4ReadProvider is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#g8d62988a2bc1563546b4b420d782377b" title="Read a track sample.">MP4ReadSample()</a> is called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of diagnostic details the library should print to stdout during its functioning. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fileProvider</em>&nbsp;</td><td>custom implementation of file I/O operations. All functions in structure must be implemented. The structure is immediately copied internally.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gfa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#g0f5a31d71dfda457588f6d7701153b40" title="Set verbosity level for diagnostic information.">MP4SetVerbosity()</a> for <b>verbosity</b> values. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="example_2provider_2provider_8c-example.html#a11">example/provider/provider.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="g0f5a31d71dfda457588f6d7701153b40"></a><!-- doxytag: member="file.h::MP4SetVerbosity" ref="g0f5a31d71dfda457588f6d7701153b40" args="(MP4FileHandle hFile, uint32_t verbosity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MP4SetVerbosity           </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>verbosity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set verbosity level for diagnostic information. 
<p>
MP4SetVerbosity allows control over the level of diagnostic information printed out by the library. It can be called at any time. Since much is done by the library when opening an mp4 file, functions such as <a class="el" href="group__mp4__file.html#g2f80c3d5b23046c24caace6f574aedec" title="Create a new mp4 file.">MP4Create()</a>, <a class="el" href="group__mp4__file.html#gfedbb759caed3c0ef88980e51111c250" title="Modify an existing mp4 file.">MP4Modify()</a>, and <a class="el" href="group__mp4__file.html#g0dd0722e4dc234ea01bf55cc9cee15c5" title="Read an existing mp4 file.">MP4Read()</a> include a parameter for the.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file for operation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>bitmask of the following bits or <b>0</b> for none: <ul>
<li><a class="el" href="group__mp4__file.html#gb3827940d6e4e310440c30f0f9092a7a" title="Verbosity bitmask: all possible details.">MP4_DETAILS_ALL</a> </li>
<li><a class="el" href="group__mp4__file.html#ga4985d912f22993dc83724d9301802ad" title="Verbosity bit: reasons for errors.">MP4_DETAILS_ERROR</a> </li>
<li><a class="el" href="group__mp4__file.html#gacafba119545c6dd4e9df269a31ab7cb" title="Verbosity bit: warnings.">MP4_DETAILS_WARNING</a> </li>
<li><a class="el" href="group__mp4__file.html#g0b442a8273aba699d30f3dbb713c5e0a" title="Verbosity bit: read operations.">MP4_DETAILS_READ</a> </li>
<li><a class="el" href="group__mp4__file.html#g76bd472f216cdc867aed1aa5e1cdd89d" title="Verbosity bit: write operations.">MP4_DETAILS_WRITE</a> </li>
<li><a class="el" href="group__mp4__file.html#ge02fca9b84695b9c29f6d09b6b153b0b" title="Verbosity bit: find property operations.">MP4_DETAILS_FIND</a> </li>
<li><a class="el" href="group__mp4__file.html#g54e6662d9e71942d9e024d2f500f3f6c" title="Verbosity bit: per table entry details.">MP4_DETAILS_TABLE</a> </li>
<li><a class="el" href="group__mp4__file.html#gaeaa4398b8e7a60d243eb84a56ab49be" title="Verbosity bit: per sample details.">MP4_DETAILS_SAMPLE</a> </li>
<li><a class="el" href="group__mp4__file.html#gb4200d967e9351aa183a88239558a582" title="Verbosity bit: per RTP hint details.">MP4_DETAILS_HINT</a> </li>
<li><a class="el" href="group__mp4__file.html#ga43d8395e2ddf9eb8933f639bedec33a" title="Verbosity bit: ISMA details.">MP4_DETAILS_ISMA</a> </li>
<li><a class="el" href="group__mp4__file.html#gb703aaca3eb39a758e2f12a2a410ef17" title="Verbosity bit: edit details.">MP4_DETAILS_EDIT</a></li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#gf34fdbadcea9621d01468820144deb50" title="Get verbosity level for diagnostic information.">MP4GetVerbosity()</a>. </dd></dl>

</div>
</div><p>
</div>
<div class="footer">
    <div>
        generated on Wed May 27 10:36:05 2009 for <b>MP4v2 (trunk-r352)</b>
        by&nbsp;<a href="http://www.doxygen.org">Doxygen</a> 1.5.8
    </div>
</div>
</body>
</html>
