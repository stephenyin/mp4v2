<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>MP4v2 trunk-r479 PROJECT_name: MP4v2 File I/O</title>
    <link href="project.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="sitebanner">
    <div id="home">
        <a href="http://code.google.com/p/mp4v2"></a>
    </div>
    <div id="title">
        PROJECT_name: MP4v2 File I/O
    </div>
    <div id="menu">
        <ul>
            <li><a href="http://code.google.com/p/mp4v2">MP4v2 Home</a></li>
            <li><a href="../index.html">Documentation</a></li>
            <li class="active">API Reference</li>
        </ul>
    </div>
</div>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MP4v2 File I/O</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="struct_m_p4_file_provider__s.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a">MP4_CREATE_64BIT_DATA</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit: enable 64-bit data-atoms.  <a href="#ga548b75af24607211fc865f13989feb5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7">MP4_CREATE_64BIT_TIME</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit: enable 64-bit time-atoms.  <a href="#gac5d3ff6b04ffa9a2f7ffe36196fb96f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaded771736ec4488580cc4df0b4938ec3">MP4_CLOSE_DO_NOT_COMPUTE_BITRATE</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit: do not recompute avg/max bitrates on file close.  <a href="#gaded771736ec4488580cc4df0b4938ec3"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gafdb6cfe7fa59c5317846ffc56f42e81c">MP4FileMode</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of file modes for custom file provider.  <a href="#gafdb6cfe7fa59c5317846ffc56f42e81c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gacf64d5ba5ba7198435d83a103487f7df">MP4FileProvider</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="#gacf64d5ba5ba7198435d83a103487f7df"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a36fc6f169700cbc8a04264f2237edc41">FILEMODE_UNDEFINED</a>, 
<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a92dc5629e6fc20c2b7f3436495a0ad5b">FILEMODE_READ</a>, 
<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a7b48e7deef54a298274319e8dae11405">FILEMODE_MODIFY</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711aac9ceaf0626526fabf37ef5aecca9bbc">FILEMODE_CREATE</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Enumeration of file modes for custom file provider. </p>
 <a href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa">MP4Close</a> (MP4FileHandle hFile, uint32_t flags=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close an mp4 file.  <a href="#ga484d26d892b561ab0a95f9ce79036dfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360">MP4Create</a> (const char *fileName, uint32_t flags=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mp4 file.  <a href="#gaefe87ffbb7f24afe1cd0272b811fe360"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaf2af31d01ce33096ba5cd0304b23b584">MP4CreateEx</a> (const char *fileName, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new mp4 file with extended options.  <a href="#gaf2af31d01ce33096ba5cd0304b23b584"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga37be2b29448d5d453f3e7b0857f7cb3d">MP4Dump</a> (MP4FileHandle hFile, bool dumpImplicits=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump mp4 file contents as ASCII either to stdout or the log callback (<code>see</code> MP4SetLogCallback).  <a href="#ga37be2b29448d5d453f3e7b0857f7cb3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga5a77cfc76a54fbd45d4cecec0f7ff373">MP4FileInfo</a> (const char *fileName, MP4TrackId trackId=MP4_INVALID_TRACK_ID)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="#ga5a77cfc76a54fbd45d4cecec0f7ff373"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga51d467fbdc44136f18c62e2481b08744">MP4GetFilename</a> (MP4FileHandle hFile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor for the filename associated with a file handle.  <a href="#ga51d467fbdc44136f18c62e2481b08744"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3">MP4Info</a> (MP4FileHandle hFile, MP4TrackId trackId=MP4_INVALID_TRACK_ID)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="#ga3aba729fc3d51e7cfbd50c077f95add3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga3fc8331224485351cfbaec4d0194b623">MP4Modify</a> (const char *fileName, uint32_t flags=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modify an existing mp4 file.  <a href="#ga3fc8331224485351cfbaec4d0194b623"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a">MP4Optimize</a> (const char *fileName, const char *newFileName=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optimize the layout of an mp4 file.  <a href="#ga92ec3d4bc643cc9fc9eb5731ea60443a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga5f1564d6288d6d2dd57f0516c6df33d5">MP4Read</a> (const char *fileName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an existing mp4 file.  <a href="#ga5f1564d6288d6d2dd57f0516c6df33d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MP4FileHandle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gad244931e122a46370c0c33842fef9b71">MP4ReadProvider</a> (const char *fileName, const <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a> *fileProvider=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an existing mp4 file.  <a href="#gad244931e122a46370c0c33842fef9b71"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaded771736ec4488580cc4df0b4938ec3"></a><!-- doxytag: member="file.h::MP4_CLOSE_DO_NOT_COMPUTE_BITRATE" ref="gaded771736ec4488580cc4df0b4938ec3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CLOSE_DO_NOT_COMPUTE_BITRATE&nbsp;&nbsp;&nbsp;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit: do not recompute avg/max bitrates on file close. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>See <a href="http://code.google.com/p/mp4v2/issues/detail?id=66">http://code.google.com/p/mp4v2/issues/detail?id=66</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga548b75af24607211fc865f13989feb5a"></a><!-- doxytag: member="file.h::MP4_CREATE_64BIT_DATA" ref="ga548b75af24607211fc865f13989feb5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CREATE_64BIT_DATA&nbsp;&nbsp;&nbsp;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit: enable 64-bit data-atoms. </p>

</div>
</div>
<a class="anchor" id="gac5d3ff6b04ffa9a2f7ffe36196fb96f7"></a><!-- doxytag: member="file.h::MP4_CREATE_64BIT_TIME" ref="gac5d3ff6b04ffa9a2f7ffe36196fb96f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CREATE_64BIT_TIME&nbsp;&nbsp;&nbsp;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit: enable 64-bit time-atoms. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Incompatible with QuickTime. </dd></dl>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="gafdb6cfe7fa59c5317846ffc56f42e81c"></a><!-- doxytag: member="file.h::MP4FileMode" ref="gafdb6cfe7fa59c5317846ffc56f42e81c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>  <a class="el" href="group__mp4__file.html#gafdb6cfe7fa59c5317846ffc56f42e81c">MP4FileMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enumeration of file modes for custom file provider. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_2provider_2provider_8c-example.html#a0">example/provider/provider.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gacf64d5ba5ba7198435d83a103487f7df"></a><!-- doxytag: member="file.h::MP4FileProvider" ref="gacf64d5ba5ba7198435d83a103487f7df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a>  <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Structure of functions implementing custom file provider. </p>
<p>Except for <b>open</b>, all the functions must return a true value to indicate failure or false on success. The open function must return a pointer or handle which represents the open file, otherwise NULL.</p>
<p>maxChunkSize is a hint suggesting what the max size of data should be read as in underlying read/write operations. A value of 0 indicates there is no hint. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gad409ae4e64c51d2e831968b5adcb3711"></a><!-- doxytag: member="file.h::MP4FileMode_e" ref="gad409ae4e64c51d2e831968b5adcb3711" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enumeration of file modes for custom file provider. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggad409ae4e64c51d2e831968b5adcb3711a36fc6f169700cbc8a04264f2237edc41"></a><!-- doxytag: member="FILEMODE_UNDEFINED" ref="ggad409ae4e64c51d2e831968b5adcb3711a36fc6f169700cbc8a04264f2237edc41" args="" -->FILEMODE_UNDEFINED</em>&nbsp;</td><td>
<p>undefined </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad409ae4e64c51d2e831968b5adcb3711a92dc5629e6fc20c2b7f3436495a0ad5b"></a><!-- doxytag: member="FILEMODE_READ" ref="ggad409ae4e64c51d2e831968b5adcb3711a92dc5629e6fc20c2b7f3436495a0ad5b" args="" -->FILEMODE_READ</em>&nbsp;</td><td>
<p>file may be read </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad409ae4e64c51d2e831968b5adcb3711a7b48e7deef54a298274319e8dae11405"></a><!-- doxytag: member="FILEMODE_MODIFY" ref="ggad409ae4e64c51d2e831968b5adcb3711a7b48e7deef54a298274319e8dae11405" args="" -->FILEMODE_MODIFY</em>&nbsp;</td><td>
<p>file may be read/written </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad409ae4e64c51d2e831968b5adcb3711aac9ceaf0626526fabf37ef5aecca9bbc"></a><!-- doxytag: member="FILEMODE_CREATE" ref="ggad409ae4e64c51d2e831968b5adcb3711aac9ceaf0626526fabf37ef5aecca9bbc" args="" -->FILEMODE_CREATE</em>&nbsp;</td><td>
<p>file will be created/truncated for read/write </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga484d26d892b561ab0a95f9ce79036dfa"></a><!-- doxytag: member="file.h::MP4Close" ref="ga484d26d892b561ab0a95f9ce79036dfa" args="(MP4FileHandle hFile, uint32_t flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MP4Close </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close an mp4 file. </p>
<p>MP4Close closes a previously opened mp4 file. If the file was opened writable with <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a> or <a class="el" href="group__mp4__file.html#ga3fc8331224485351cfbaec4d0194b623" title="Modify an existing mp4 file.">MP4Modify()</a>, then <a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa" title="Close an mp4 file.">MP4Close()</a> will write out all pending information to disk.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to close. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>bitmask that allows the user to set extra options for the close commands. Valid options include: </p>
<ul>
<li><a class="el" href="group__mp4__file.html#gaded771736ec4488580cc4df0b4938ec3" title="Bit: do not recompute avg/max bitrates on file close.">MP4_CLOSE_DO_NOT_COMPUTE_BITRATE</a> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_2itmf_2generic_8c-example.html#a22">example/itmf/generic.c</a>, <a class="el" href="example_2itmf_2tags_8c-example.html#a66">example/itmf/tags.c</a>, and <a class="el" href="example_2provider_2provider_8c-example.html#a14">example/provider/provider.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaefe87ffbb7f24afe1cd0272b811fe360"></a><!-- doxytag: member="file.h::MP4Create" ref="gaefe87ffbb7f24afe1cd0272b811fe360" args="(const char *fileName, uint32_t flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Create </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new mp4 file. </p>
<p>MP4Create is the first call that should be used when you want to create a new, empty mp4 file. It is equivalent to opening a file for writing, but also involved with creation of necessary mp4 framework structures. ie. invoking <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a> followed by <a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa" title="Close an mp4 file.">MP4Close()</a> will result in a file with a non-zero size.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be created. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: </p>
<ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf2af31d01ce33096ba5cd0304b23b584"></a><!-- doxytag: member="file.h::MP4CreateEx" ref="gaf2af31d01ce33096ba5cd0304b23b584" args="(const char *fileName, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4CreateEx </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>add_ftyp</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>add_iods</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>majorBrand</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>minorVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>compatibleBrands</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>compatibleBrandsCount</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new mp4 file with extended options. </p>
<p>MP4CreateEx is an extended version of <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be created. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: </p>
<ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a> </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_ftyp</em>&nbsp;</td><td>if true an <b>ftyp</b> atom is automatically created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_iods</em>&nbsp;</td><td>if true an <b>iods</b> atom is automatically created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>majorBrand</em>&nbsp;</td><td><b>ftyp</b> brand identifier. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minorVersion</em>&nbsp;</td><td><b>ftyp</b> informative integer for the minor version of the major brand. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>compatibleBrands</em>&nbsp;</td><td><b>ftyp</b> list of compatible brands. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>compatibleBrandsCount</em>&nbsp;</td><td>is the count of items specified in compatibleBrands.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga37be2b29448d5d453f3e7b0857f7cb3d"></a><!-- doxytag: member="file.h::MP4Dump" ref="ga37be2b29448d5d453f3e7b0857f7cb3d" args="(MP4FileHandle hFile, bool dumpImplicits=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Dump </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>dumpImplicits</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dump mp4 file contents as ASCII either to stdout or the log callback (<code>see</code> MP4SetLogCallback). </p>
<p>Dump is an invaluable debugging tool in that in can reveal all the details of the mp4 control structures. However, the output will not make much sense until you familiarize yourself with the mp4 specification (or the Quicktime File Format specification).</p>
<p>Note that <a class="el" href="group__mp4__file.html#ga37be2b29448d5d453f3e7b0857f7cb3d" title="Dump mp4 file contents as ASCII either to stdout or the log callback (see MP4SetLogCallback)...">MP4Dump()</a> will not print the individual values of control tables, such as the size of each sample, unless the current log level is at least MP4_LOG_VERBOSE2. <code>see</code> MP4LogSetLevel() for how to set this.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to dump. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dumpImplicits</em>&nbsp;</td><td>prints properties which would not actually be written to the mp4 file, but still exist in mp4 control structures. ie. they are implicit given the current values of other controlling properties.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> on success, <b>false</b> on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_2provider_2provider_8c-example.html#a13">example/provider/provider.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga5a77cfc76a54fbd45d4cecec0f7ff373"></a><!-- doxytag: member="file.h::MP4FileInfo" ref="ga5a77cfc76a54fbd45d4cecec0f7ff373" args="(const char *fileName, MP4TrackId trackId=MP4_INVALID_TRACK_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4FileInfo </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&nbsp;</td>
          <td class="paramname"> <em>trackId</em> = <code>MP4_INVALID_TRACK_ID</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a textual summary of an mp4 file. </p>
<p>MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.</p>
<p>Note that the returned string is malloc'ed, so it is the caller's responsibility to free() the string. Also note that the returned string contains newlines and tabs which may or may not be desirable.</p>
<p>The following is an example of the output of <a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: </p>
<div class="fragment"><pre class="fragment">
Track  Type   Info
1      video  MPEG-4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG-4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V-ES for track 1
4      hint   Payload mpeg4-generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname to mp4 file to summarize. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trackId</em>&nbsp;</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a malloc'd string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga51d467fbdc44136f18c62e2481b08744"></a><!-- doxytag: member="file.h::MP4GetFilename" ref="ga51d467fbdc44136f18c62e2481b08744" args="(MP4FileHandle hFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* MP4GetFilename </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Accessor for the filename associated with a file handle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>a file handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the NUL-terminated, UTF-8 encoded filename associated with <code>hFile</code> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3aba729fc3d51e7cfbd50c077f95add3"></a><!-- doxytag: member="file.h::MP4Info" ref="ga3aba729fc3d51e7cfbd50c077f95add3" args="(MP4FileHandle hFile, MP4TrackId trackId=MP4_INVALID_TRACK_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4Info </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&nbsp;</td>
          <td class="paramname"> <em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&nbsp;</td>
          <td class="paramname"> <em>trackId</em> = <code>MP4_INVALID_TRACK_ID</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a textual summary of an mp4 file. </p>
<p>MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.</p>
<p>Note that the returned string is malloc'ed, so it is the caller's responsibility to free() the string. Also note that the returned string contains newlines and tabs which may or may not be desirable.</p>
<p>The following is an example of the output of <a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: </p>
<div class="fragment"><pre class="fragment">
Track  Type   Info
1      video  MPEG-4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG-4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V-ES for track 1
4      hint   Payload mpeg4-generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hFile</em>&nbsp;</td><td>handle of file to summarize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trackId</em>&nbsp;</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a malloc'd string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__mp4__file.html#ga5a77cfc76a54fbd45d4cecec0f7ff373" title="Return a textual summary of an mp4 file.">MP4FileInfo()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3fc8331224485351cfbaec4d0194b623"></a><!-- doxytag: member="file.h::MP4Modify" ref="ga3fc8331224485351cfbaec4d0194b623" args="(const char *fileName, uint32_t flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Modify </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modify an existing mp4 file. </p>
<p>MP4Modify is the first call that should be used when you want to modify an existing mp4 file. It is roughly equivalent to opening a file in read/write mode.</p>
<p>Since modifications to an existing mp4 file can result in a sub-optimal file layout, you may want to use <a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a" title="Optimize the layout of an mp4 file.">MP4Optimize()</a> after you have modified and closed the mp4 file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be modified. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>currently ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a handle of the target file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_2itmf_2generic_8c-example.html#a0">example/itmf/generic.c</a>, and <a class="el" href="example_2itmf_2tags_8c-example.html#a0">example/itmf/tags.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga92ec3d4bc643cc9fc9eb5731ea60443a"></a><!-- doxytag: member="file.h::MP4Optimize" ref="ga92ec3d4bc643cc9fc9eb5731ea60443a" args="(const char *fileName, const char *newFileName=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Optimize </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>newFileName</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Optimize the layout of an mp4 file. </p>
<p>MP4Optimize reads an existing mp4 file and writes a new version of the file with the two important changes:</p>
<p>First, the mp4 control information is moved to the beginning of the file. (Frequenty it is at the end of the file due to it being constantly modified as track samples are added to an mp4 file). This optimization is useful in that in allows the mp4 file to be HTTP streamed.</p>
<p>Second, the track samples are interleaved so that the samples for a particular instant in time are colocated within the file. This eliminates disk seeks during playback of the file which results in better performance.</p>
<p>There are also two important side effects of <a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a" title="Optimize the layout of an mp4 file.">MP4Optimize()</a>:</p>
<p>First, any free blocks within the mp4 file are eliminated.</p>
<p>Second, as a side effect of the sample interleaving process any media data chunks that are not actually referenced by the mp4 control structures are deleted. This is useful if you have called MP4DeleteTrack() which only deletes the control information for a track, and not the actual media data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of (existing) file to be optimized. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newFileName</em>&nbsp;</td><td>pathname of the new optimized file. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). If NULL a temporary file in the same directory as the <b>fileName</b> will be used and <b>fileName</b> will be over-written upon successful completion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> on success, <b>false</b> on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5f1564d6288d6d2dd57f0516c6df33d5"></a><!-- doxytag: member="file.h::MP4Read" ref="ga5f1564d6288d6d2dd57f0516c6df33d5" args="(const char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Read </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read an existing mp4 file. </p>
<p>MP4Read is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#gabdb2ed85833a401e45c99e54a40cf394" title="Read a track sample.">MP4ReadSample()</a> is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be read. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). ( </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gad244931e122a46370c0c33842fef9b71"></a><!-- doxytag: member="file.h::MP4ReadProvider" ref="gad244931e122a46370c0c33842fef9b71" args="(const char *fileName, const MP4FileProvider *fileProvider=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4ReadProvider </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider</a> *&nbsp;</td>
          <td class="paramname"> <em>fileProvider</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read an existing mp4 file. </p>
<p>MP4ReadProvider is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#gabdb2ed85833a401e45c99e54a40cf394" title="Read a track sample.">MP4ReadSample()</a> is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>pathname of the file to be read. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fileProvider</em>&nbsp;</td><td>custom implementation of file I/O operations. All functions in structure must be implemented. The structure is immediately copied internally.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_2provider_2provider_8c-example.html#a11">example/provider/provider.c</a>.</dd>
</dl>
</div>
</div>
</div>
<div class="footer">
    <div>
        generated on Thu Jul 7 11:02:28 2011 for <b>MP4v2 (trunk-r479)</b>
        by&nbsp;<a href="http://www.doxygen.org">Doxygen</a> 1.6.3
    </div>
</div>
</body>
</html>
