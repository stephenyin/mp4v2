<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>MP4v2 2.0-20081218 PROJECT_name: mp4v2::util::Database Class Reference</title>
    <link href="project.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="sitebanner">
    <div id="home">
        <a href="http://code.google.com/p/mp4v2"></a>
    </div>
    <div id="title">
        PROJECT_name: mp4v2::util::Database Class Reference
    </div>
    <div id="menu">
        <ul>
            <li><a href="http://code.google.com/p/mp4v2">MP4v2 Home</a></li>
            <li><a href="../index.html">Documentation</a></li>
            <li class="active">API Reference</li>
        </ul>
    </div>
</div>
<!-- Generated by Doxygen 1.5.7.1-20081103 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>mp4v2</b>::<a class="el" href="namespacemp4v2_1_1util.html">util</a>::<a class="el" href="classmp4v2_1_1util_1_1_database.html">Database</a>
  </div>
</div>
<div class="contents">
<h1>mp4v2::util::Database Class Reference</h1><!-- doxytag: class="mp4v2::util::Database" --><a class="el" href="classmp4v2_1_1util_1_1_database.html" title="Database class is the base implementation for persistent databases.">Database</a> class is the base implementation for persistent databases.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classmp4v2_1_1util_1_1_database-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp4v2_1_1util_1_1_database.html#bc6be36cf91b486d8f9aa805c8354b54">Database</a> (const string &amp;file, const string &amp;key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#bc6be36cf91b486d8f9aa805c8354b54"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="23fb2741d30bb73ee019a34e94f7fb56"></a><!-- doxytag: member="mp4v2::util::Database::close" ref="23fb2741d30bb73ee019a34e94f7fb56" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp4v2_1_1util_1_1_database.html#23fb2741d30bb73ee019a34e94f7fb56">close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close database file. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp4v2_1_1util_1_1_database.html#485eed3d1c9cab02ba379b8ed1f0c94b">open</a> (bool write, string &amp;fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open database file.  <a href="#485eed3d1c9cab02ba379b8ed1f0c94b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmp4v2_1_1util_1_1_database.html#76bcaa85d043b2830993cdea7ab1b391">parseData</a> (map&lt; string, string &gt; &amp;data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse a record-data from open intput stream.  <a href="#76bcaa85d043b2830993cdea7ab1b391"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1711b0ff503cfc6d07a076bcaa3921e"></a><!-- doxytag: member="mp4v2::util::Database::_filename" ref="b1711b0ff503cfc6d07a076bcaa3921e" args="" -->
const string&nbsp;</td><td class="memItemRight" valign="bottom"><b>_filename</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="117deb3cf35e8299487a2afea0717177"></a><!-- doxytag: member="mp4v2::util::Database::_key" ref="117deb3cf35e8299487a2afea0717177" args="" -->
const string&nbsp;</td><td class="memItemRight" valign="bottom"><b>_key</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0e4cd7b109f735e5e7b7a83ac6c32850"></a><!-- doxytag: member="mp4v2::util::Database::_stream" ref="0e4cd7b109f735e5e7b7a83ac6c32850" args="" -->
fstream&nbsp;</td><td class="memItemRight" valign="bottom"><b>_stream</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classmp4v2_1_1util_1_1_database.html" title="Database class is the base implementation for persistent databases.">Database</a> class is the base implementation for persistent databases. 
<p>
All databases use an ASCII file format: <ul>
<li>leading/trailing spaces on any line are trimmed. </li>
<li>lines beginning with '#' are considered comments. </li>
<li>lines of { &lt;NAME&gt;&lt;DELIMITER&gt;</li>
</ul>
&lt;EOL&gt; } form NAME/VALUEs pairs. <ul>
<li>&lt;NAME&gt; cannot contain any &lt;DELIMITER&gt; characters. </li>
<li>&lt;DELIMITER&gt; is any combination of { ' ', '=', '' }. </li>
<li>continues until &lt;EOL&gt;. </li>
<li>&lt;EOL&gt; is optional for last line. </li>
<li>&lt;NAME&gt; of value this._key marks the beginning of a new record. </li>
<li>&lt;NAME&gt; is case-insensitive. </li>
<li>subsequent lines of NAME/VALUE pairs are part of the same record. </li>
</ul>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="bc6be36cf91b486d8f9aa805c8354b54"></a><!-- doxytag: member="mp4v2::util::Database::Database" ref="bc6be36cf91b486d8f9aa805c8354b54" args="(const string &amp;file, const string &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mp4v2::util::Database::Database           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>specifies filename for IO operations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>specifies the name of primary key. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="485eed3d1c9cab02ba379b8ed1f0c94b"></a><!-- doxytag: member="mp4v2::util::Database::open" ref="485eed3d1c9cab02ba379b8ed1f0c94b" args="(bool write, string &amp;fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mp4v2::util::Database::open           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open database file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>write</em>&nbsp;</td><td><b>true</b> to open file for writing, <b>false</b> for reading. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>filename to open.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><b>true</b> on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="76bcaa85d043b2830993cdea7ab1b391"></a><!-- doxytag: member="mp4v2::util::Database::parseData" ref="76bcaa85d043b2830993cdea7ab1b391" args="(map&lt; string, string &gt; &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mp4v2::util::Database::parseData           </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, string &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse a record-data from open intput stream. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>is populated with NAME/VALUE pairs if any. </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<div class="footer">
    <div>
        generated on Thu Dec 18 16:37:49 2008 for <b>MP4v2 (2.0-20081218)</b>
        by&nbsp;<a href="http://www.doxygen.org">Doxygen</a> 1.5.7.1-20081103
    </div>
</div>
</body>
</html>
